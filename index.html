<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Tempered Glass Lookup</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      :root {
        --royal-blue: #228bee;
        --matte-white: #f8fafc;
        --shadow: 0 4px 24px rgba(34, 139, 238, 0.09);
        --card-radius: 16px;
        --border: 1.5px solid #e9e9ea;
        --text-main: #1a2332;
        --text-muted: #4686b9;
      }
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Arial, sans-serif;
        background: var(--matte-white);
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        color: var(--text-main);
        min-height: 100vh;
      }
      h2,
      h3 {
        color: var(--royal-blue);
        letter-spacing: 1.2px;
        font-weight: 550;
        margin-bottom: 0.6em;
      }
      .section-card {
        background: #fff;
        border: var(--border);
        border-radius: var(--card-radius);
        box-shadow: var(--shadow);
        padding: 2em 1em 1.5em 1em;
        margin-bottom: 2.2em;
        max-width: 480px;
        width: 96%;
        margin: 0 auto 2.2em auto;
      }
      .nav-btn {
        background: var(--royal-blue);
        color: #fff;
        border: none;
        border-radius: 28px;
        font-size: 1.07em;
        font-weight: 500;
        padding: 15px 30px;
        box-shadow: 0 2px 10px rgba(34, 139, 238, 0.13);
        transition: background 0.18s, transform 0.13s;
        margin: 0 12px 14px 0;
        outline: none;
      }
      .nav-btn:hover,
      .nav-btn:focus {
        background: #165fa1;
        transform: translateY(-2px) scale(1.03);
      }
      button:active {
        opacity: 0.88;
      }
      input[type="text"] {
        border-radius: 8px;
        border: var(--border);
        padding: 8px 0.8em;
        font-size: 1em;
        transition: border 0.14s;
        outline: none;
        width: 80%;
        margin-bottom: 10px;
        background: #f6fafd;
      }
      input[type="text"]:focus {
        border-color: var(--royal-blue);
        box-shadow: 0 1px 3px rgba(34, 139, 238, 0.07);
      }
      .result {
        margin: 16px 0 8px 0;
        font-size: 1.13em;
        color: var(--text-main);
        background: #f7f8fa;
        border-radius: 8px;
        padding: 8px 12px;
        box-shadow: 0 1px 2px #eff2f7;
      }
      hr {
        border: none;
        border-top: 1.5px solid #e5e9f2;
        margin: 34px 0 10px 0;
      }
      /* Card and gallery styles */
      #designGallery,
      #modelsList,
      #ipakyModelsList {
        display: flex;
        flex-wrap: wrap;
        gap: 28px 16px;
        justify-content: center;
        margin-top: 14px;
      }
      #designGallery img,
      .models-list img {
        background: #fff;
        border: var(--border);
        border-radius: 13px;
        box-shadow: 0 2px 7px rgba(34, 139, 238, 0.07);
        width: 130px;
        height: 150px;
        object-fit: cover;
        cursor: pointer;
        transition: transform 0.14s, box-shadow 0.14s;
      }
      #designGallery img:hover,
      .models-list img:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 36px rgba(34, 139, 238, 0.22);
        z-index: 2;
      }
      .models-list {
        background: #fafcff;
        box-shadow: var(--shadow);
        border-radius: 13px;
        border: var(--border);
        padding: 10px 13px 7px 13px;
        width: 190px;
        min-width: 152px;
      }
      .main-model {
        font-weight: bold;
        color: var(--royal-blue);
        letter-spacing: 0.8px;
        font-size: 1.09em;
      }
      ul {
        margin-top: 0.7em;
        margin-bottom: 0.3em;
        padding-left: 1.3em;
        font-size: 0.99em;
        color: var(--text-muted);
      }
      /* Suggestions/autocomplete dropdown */
      #suggestions,
      #ipakySuggestions {
        background: #fff;
        border: 2px solid var(--royal-blue);
        border-radius: 11px;
        position: absolute;
        max-height: 150px;
        overflow-y: auto;
        width: 80%;
        z-index: 99;
        box-sizing: border-box;
        display: none;
        font-size: 1em;
        box-shadow: 0 2px 14px rgba(17, 55, 97, 0.07);
      }
      .suggestion-item {
        padding: 10px 18px;
        cursor: pointer;
        border-bottom: 1px solid #eef2fa;
        font-size: 0.99em;
        color: var(--text-main);
        background: #f8fafc;
        transition: background 0.15s;
      }
      .suggestion-item:hover {
        background-color: #e7effb;
      }
      form {
        position: relative;
      }
      .hidden {
        display: none !important;
      }
      /* Modal overlay */
      #imageModal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(30, 44, 66, 0.95);
        justify-content: center;
        align-items: center;
        z-index: 1100;
        flex-direction: column;
        animation: fadeInModal 0.18s;
      }
      @keyframes fadeInModal {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      #modalImage {
        max-width: 94vw;
        max-height: 82vh;
        border-radius: 11px;
        box-shadow: 0 8px 40px rgba(34, 139, 238, 0.28);
      }
      #imageModal > div {
        margin-top: 21px;
        display: flex;
        gap: 17px;
      }
      #printImageBtn,
      #closeModalBtn {
        background: var(--royal-blue);
        color: #fff;
        border: none;
        border-radius: 30px;
        font-size: 1em;
        font-weight: 500;
        padding: 13px 28px;
        min-width: 100px;
        box-shadow: 0 2px 8px rgba(34, 139, 238, 0.09);
        transition: background 0.16s, transform 0.12s;
      }
      #printImageBtn:hover,
      #closeModalBtn:hover {
        background: #165fa1;
        transform: scale(1.05);
      }
      /* Home, sections, cards */
      #homeMenu > div,
      #backCasesPage,
      #contactUsPage,
      #designSelectionsPage,
      #temperedGlassPage,
      #ipakyPage {
        border-radius: var(--card-radius);
        box-shadow: var(--shadow);
        margin: 22px auto 34px auto;
        background: #fff;
        max-width: 485px;
        padding: 0 0 24px 0;
        border: var(--border);
      }
      #homeMenu > div {
        box-shadow: 0 4px 24px rgba(34, 139, 238, 0.15);
        background: #f5fafe;
        padding-top: 42px;
        padding-bottom: 40px;
        margin-bottom: 30px;
        border: none;
      }
      @media (max-width: 520px) {
        body,
        .section-card {
          max-width: 99vw !important;
        }
        #homeMenu > div {
          padding-left: 8px;
          padding-right: 8px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Home Menu -->
    <div
      id="homeMenu"
      style="display: flex; flex-direction: column; height: 100vh"
    >
      <div
        style="
          flex: 8;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          background: #f5fafe;
        "
      >
        <h2 style="margin-bottom: 28px; letter-spacing: 2px">Customers</h2>
        <div style="display: flex; gap: 24px">
          <button type="button" id="btnDesign" class="nav-btn">
            Design Selections
          </button>
          <button type="button" id="btnContact" class="nav-btn">
            Contact Us
          </button>
        </div>
      </div>
      <div
        style="
          flex: 2;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          background: #ebf3fb;
        "
      >
        <h2 style="margin-bottom: 18px; letter-spacing: 2px">Staff</h2>
        <div style="display: flex; gap: 24px">
          <button type="button" id="btnTemperedGlass" class="nav-btn">
            Tempered Glass
          </button>
          <button type="button" id="btnBackCases" class="nav-btn">
            Back Cases
          </button>
        </div>
      </div>
    </div>

    <!-- Tempered Glass Page -->
    <div id="temperedGlassPage" class="hidden section-card">
      <button onclick="goHome()" class="nav-btn" style="margin-bottom: 15px">
        Back to Home
      </button>
      <h2>Tempered Glass Compatibility Lookup</h2>
      <form id="searchForm" autocomplete="off">
        <input
          type="text"
          id="searchInput"
          placeholder="Enter phone model..."
        />
        <div id="suggestions"></div>
        <button type="submit" class="nav-btn">Search</button>
      </form>
      <div class="result" id="result"></div>
      <hr />
      <h3>All Main Tempered Glass Models</h3>
      <div id="modelsList"></div>
    </div>

    <!-- Design Selections Page -->
    <div id="designSelectionsPage" class="hidden section-card">
      <button onclick="goHome()" class="nav-btn" style="margin-bottom: 15px">
        Back to Home
      </button>
      <h2>Design Selections</h2>
      <div id="designButtons"></div>
      <div id="designGallery"></div>
      <button
        id="backToDesigns"
        class="nav-btn"
        style="display: none; margin: 18px auto"
        onclick="showDesignButtons()"
      >
        Back to Design Choices
      </button>
      <!-- Image Modal Overlay -->
      <div id="imageModal">
        <img id="modalImage" src="" alt="Full Design" />
        <div>
          <button id="printImageBtn" type="button">Print It</button>
          <button id="closeModalBtn" type="button">Close</button>
        </div>
      </div>
    </div>

    <!-- Contact Us placeholder -->
    <div id="contactUsPage" class="hidden section-card">
      <button onclick="goHome()" class="nav-btn" style="margin-bottom: 15px">
        Back to Home
      </button>
      <h2>Contact Us</h2>
      <p style="color: var(--text-muted)">
        Redirecting to WhatsApp Business...
      </p>
    </div>

    <!-- Back Cases Main Page -->
    <div id="backCasesPage" class="hidden section-card">
      <button onclick="goHome()" class="nav-btn" style="margin-bottom: 15px">
        Back to Home
      </button>
      <h2>Back Cases</h2>
      <div
        style="
          display: flex;
          gap: 20px;
          flex-wrap: wrap;
          justify-content: center;
          margin-top: 20px;
        "
      >
        <button
          id="btnIpaky"
          class="nav-btn"
          style="min-width: 120px; min-height: 54px"
        >
          iPaky
        </button>
        <button
          id="btnVibex"
          class="nav-btn"
          style="min-width: 120px; min-height: 54px"
        >
          Vibex
        </button>
        <button
          id="btnPremium"
          class="nav-btn"
          style="min-width: 120px; min-height: 54px"
        >
          Premium Covers
        </button>
      </div>
    </div>

    <!-- iPaky Lookup Page -->
    <div id="ipakyPage" class="hidden section-card">
      <button
        onclick="showPage('backCasesPage')"
        class="nav-btn"
        style="margin-bottom: 15px"
      >
        Back to Back Cases
      </button>
      <h2>iPaky Cases Compatibility Lookup</h2>
      <form id="ipakySearchForm" autocomplete="off">
        <input
          type="text"
          id="ipakySearchInput"
          placeholder="Enter phone model..."
        />
        <div id="ipakySuggestions"></div>
        <button type="submit" class="nav-btn">Search</button>
      </form>
      <div class="result" id="ipakyResult"></div>
      <hr />
      <h3>All Main iPaky Models</h3>
      <div id="ipakyModelsList"></div>
    </div>

    <!-- Load your data.js and design-data.js -->
    <script src="data.js"></script>
    <script src="design-data.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Navigation helpers
        function showPage(pageId) {
          [
            "homeMenu",
            "temperedGlassPage",
            "designSelectionsPage",
            "contactUsPage",
            "backCasesPage",
            "ipakyPage",
          ].forEach((id) =>
            document.getElementById(id).classList.add("hidden")
          );
          document.getElementById(pageId).classList.remove("hidden");
        }
        window.goHome = function () {
          [
            "temperedGlassPage",
            "designSelectionsPage",
            "contactUsPage",
            "backCasesPage",
            "ipakyPage",
          ].forEach((id) =>
            document.getElementById(id).classList.add("hidden")
          );
          document.getElementById("homeMenu").classList.remove("hidden");
        };

        // Contact Us opens WhatsApp Business chat
        document.getElementById("btnContact").onclick = function () {
          const whatsappNumber = "8553855378";
          const whatsappUrl = `https://wa.me/${whatsappNumber}`;
          window.open(whatsappUrl, "_blank");
          goHome();
        };

        document.getElementById("btnDesign").onclick = function () {
          showPage("designSelectionsPage");
        };
        document.getElementById("btnTemperedGlass").onclick = function () {
          showPage("temperedGlassPage");
        };
        document.getElementById("btnBackCases").onclick = function () {
          showPage("backCasesPage");
        };
        document.getElementById("btnIpaky").onclick = function () {
          showPage("ipakyPage");
        };
        document.getElementById("btnVibex").onclick = function () {
          alert("Vibex cases lookup coming soon...");
        };
        document.getElementById("btnPremium").onclick = function () {
          alert("Premium covers lookup coming soon...");
        };

        // Lookup normalization helper
        function normalize(text) {
          return text.replace(/\s+/g, "").toLowerCase();
        }

        // ==== Tempered Glass Autocomplete and Render ====
        const allModels = [];
        temperedGlassData.forEach((item) => {
          item.models.forEach((m) => {
            if (m && !allModels.includes(m)) allModels.push(m);
          });
        });
        const searchInput = document.getElementById("searchInput");
        const suggestionsDiv = document.getElementById("suggestions");
        let selectedModel = null;

        if (searchInput) {
          searchInput.addEventListener("input", function () {
            const val = this.value;
            suggestionsDiv.innerHTML = "";
            selectedModel = null;
            document.getElementById("result").innerHTML = "";
            if (val.trim().length === 0) {
              suggestionsDiv.style.display = "none";
              return;
            }
            const matchedModels = allModels.filter((m) =>
              normalize(m).includes(normalize(val))
            );
            if (matchedModels.length === 0) {
              suggestionsDiv.style.display = "none";
              return;
            }
            suggestionsDiv.style.display = "block";
            suggestionsDiv.innerHTML = matchedModels
              .map(
                (m) =>
                  `<div class="suggestion-item" onclick="selectSuggestion('${m.replace(
                    /'/g,
                    "\\'"
                  )}')">${m}</div>`
              )
              .join("");
          });
        }

        window.selectSuggestion = function (modelName) {
          searchInput.value = modelName;
          suggestionsDiv.innerHTML = "";
          suggestionsDiv.style.display = "none";
          selectedModel = modelName;
          showMainModels(modelName);
        };

        document.body.addEventListener("click", function (e) {
          if (
            e.target !== searchInput &&
            e.target !== document.getElementById("ipakySearchInput")
          ) {
            suggestionsDiv.innerHTML = "";
            suggestionsDiv.style.display = "none";
            if (document.getElementById("ipakySuggestions")) {
              document.getElementById("ipakySuggestions").innerHTML = "";
              document.getElementById("ipakySuggestions").style.display =
                "none";
            }
          }
        });

        function showMainModels(modelName) {
          const matches = temperedGlassData.filter((item) =>
            item.models.some(
              (phone) => normalize(phone) === normalize(modelName)
            )
          );
          const resultDiv = document.getElementById("result");
          if (matches.length === 0) {
            resultDiv.textContent = "No main model found for this phone model.";
          } else {
            resultDiv.innerHTML =
              "Main Tempered Glass Models: <ul>" +
              matches.map((item) => `<li>${item.mainModel}</li>`).join("") +
              "</ul>";
          }
        }

        if (document.getElementById("searchForm")) {
          document.getElementById("searchForm").onsubmit = function (e) {
            e.preventDefault();
            let modelName = searchInput.value.trim();
            if (!modelName) return;
            showMainModels(modelName);
          };
        }

        const modelsDiv = document.getElementById("modelsList");
        if (modelsDiv)
          modelsDiv.innerHTML = temperedGlassData
            .map(
              (item) => `<div class="models-list">
              <span class="main-model">${item.mainModel}</span>
              <ul>${item.models.map((m) => `<li>${m}</li>`).join("")}</ul>
            </div>`
            )
            .join("");

        // ==== iPaky Lookup Functions ====
        const ipakyAllModels = [];
        if (typeof ipakyCasesData !== "undefined") {
          ipakyCasesData.forEach((item) => {
            item.models.forEach((m) => {
              if (m && !ipakyAllModels.includes(m)) ipakyAllModels.push(m);
            });
          });
        }
        const ipakyInput = document.getElementById("ipakySearchInput");
        const ipakySuggestionsDiv = document.getElementById("ipakySuggestions");
        let ipakySelectedModel = null;

        if (ipakyInput) {
          ipakyInput.addEventListener("input", function () {
            const val = this.value;
            ipakySuggestionsDiv.innerHTML = "";
            ipakySelectedModel = null;
            document.getElementById("ipakyResult").innerHTML = "";
            if (val.trim().length === 0) {
              ipakySuggestionsDiv.style.display = "none";
              return;
            }
            const matchedModels = ipakyAllModels.filter((m) =>
              normalize(m).includes(normalize(val))
            );
            if (matchedModels.length === 0) {
              ipakySuggestionsDiv.style.display = "none";
              return;
            }
            ipakySuggestionsDiv.style.display = "block";
            ipakySuggestionsDiv.innerHTML = matchedModels
              .map(
                (m) =>
                  `<div class="suggestion-item" onclick="ipakySelectSuggestion('${m.replace(
                    /'/g,
                    "\\'"
                  )}')">${m}</div>`
              )
              .join("");
          });
        }

        window.ipakySelectSuggestion = function (modelName) {
          ipakyInput.value = modelName;
          ipakySuggestionsDiv.innerHTML = "";
          ipakySuggestionsDiv.style.display = "none";
          ipakySelectedModel = modelName;
          showIpakyMainModels(modelName);
        };

        function showIpakyMainModels(modelName) {
          if (typeof ipakyCasesData === "undefined") {
            document.getElementById("ipakyResult").textContent =
              "iPaky data not found. Please check your data.js file.";
            return;
          }
          const matches = ipakyCasesData.filter((item) =>
            item.models.some(
              (phone) => normalize(phone) === normalize(modelName)
            )
          );
          const resultDiv = document.getElementById("ipakyResult");
          if (matches.length === 0) {
            resultDiv.textContent = "No main model found for this phone model.";
          } else {
            resultDiv.innerHTML =
              "Main iPaky Models: <ul>" +
              matches.map((item) => `<li>${item.mainModel}</li>`).join("") +
              "</ul>";
          }
        }

        if (document.getElementById("ipakySearchForm")) {
          document.getElementById("ipakySearchForm").onsubmit = function (e) {
            e.preventDefault();
            let modelName = ipakyInput.value.trim();
            if (!modelName) return;
            showIpakyMainModels(modelName);
          };
        }

        const ipakyModelsDiv = document.getElementById("ipakyModelsList");
        if (ipakyModelsDiv && typeof ipakyCasesData !== "undefined") {
          ipakyModelsDiv.innerHTML = ipakyCasesData
            .map(
              (item) => `<div class="models-list">
              <span class="main-model">${item.mainModel}</span>
              <ul>${item.models.map((m) => `<li>${m}</li>`).join("")}</ul>
            </div>`
            )
            .join("");
        } else if (ipakyModelsDiv) {
          ipakyModelsDiv.innerHTML =
            "<p>iPaky data not found. Please check your data.js file.</p>";
        }

        // ==== Design Gallery Logic ====
        const designNames = [
          "ANIME",
          "PINTRESTY",
          "SOFT QUOTES",
          "HARD QUOTES",
          "SPORTS PLAYERS",
          "SPORTS",
          "SCENERY",
          "CARS",
          "ALL MIX=1",
          "ALL MIX=2",
          "LUXURY",
          "ACTORS",
        ];

        window.showDesignButtons = function () {
          const btns = designNames
            .map(
              (name) =>
                `<button type="button" class="nav-btn" style="margin:10px 12px;" onclick="showDesignGallery('${name}')">${name}</button>`
            )
            .join("");
          document.getElementById("designButtons").innerHTML = btns;
          document.getElementById("designButtons").style.display = "flex";
          document.getElementById("designGallery").style.display = "none";
          document.getElementById("backToDesigns").style.display = "none";
        };

        window.showDesignGallery = function (design) {
          const gallery = document.getElementById("designGallery");
          const images = designImages[design] || [];
          gallery.innerHTML =
            `<h3 style="width:100%; text-align:center;">${design} Designs</h3>` +
            (images.length
              ? images
                  .map(
                    (src) =>
                      `<img src="${src}" alt="${design}" onclick="openImageModal('${src}')" />`
                  )
                  .join("")
              : "<p style='color: #165fa1;'>No images yet for this design.</p>");
          document.getElementById("designButtons").style.display = "none";
          gallery.style.display = "flex";
          document.getElementById("backToDesigns").style.display =
            "inline-block";
        };

        // Modal control functions
        window.openImageModal = function (imageSrc) {
          const modal = document.getElementById("imageModal");
          const modalImage = document.getElementById("modalImage");
          modalImage.src = imageSrc;
          modal.style.display = "flex";
          document.body.style.overflow = "hidden";
        };

        document.getElementById("closeModalBtn").onclick = function () {
          const modal = document.getElementById("imageModal");
          modal.style.display = "none";
          document.body.style.overflow = "";
        };

        document.getElementById("printImageBtn").onclick = function () {
          const imgSrc = document.getElementById("modalImage").src;
          const whatsappNumber = "8553855378";
          const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(
            imgSrc
          )}`;
          window.open(whatsappUrl, "_blank");
          printSingleImage(imgSrc);
        };

        function printSingleImage(src) {
          const win = window.open("");
          win.document.write(`
          <html>
            <head><title>Print Image</title></head>
            <body style="margin:0; padding:0; text-align:center;">
              <img src="${src}" style="max-width:100%; height:auto;" />
            </body>
          </html>
        `);
          win.document.close();
          win.focus();
          win.print();
          win.close();
        }

        // Show design buttons when Design Selections page is shown
        if (document.getElementById("designSelectionsPage")) {
          const observer = new MutationObserver(function () {
            if (
              !document
                .getElementById("designSelectionsPage")
                .classList.contains("hidden")
            ) {
              showDesignButtons();
            }
          });
          observer.observe(document.getElementById("designSelectionsPage"), {
            attributes: true,
            attributeFilter: ["class"],
          });
        }

        goHome();
      });
    </script>
  </body>
</html>
